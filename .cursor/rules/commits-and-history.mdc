---
description: 変更は必ずコミット。Conventional Commitsを採用し、99_historyに仕様変更を連番で記録する。
alwaysApply: true
---

# コミットと99_history

## コミット
- 意味のある変更単位で**必ずコミット**する。
- **Conventional Commits**を採用: `feat:`, `fix:`, `docs:`, `refactor:` 等。本文にドキュメントIDや理由を記載し、Cursorが後から参照しやすいようにする。

### コミットメッセージの文字化け防止（Windows/自動実行時）
- 日本語など非ASCIIを含むメッセージは、**UTF-8**でエンコードしてコミットすること。シェル（PowerShell等）の `-m "..."` で渡すと環境によって文字化けすることがある。
- **推奨**: メッセージを **UTF-8 のテキストファイル**に書き、`git commit -F <ファイルパス>` でコミットする。ファイルはコミット後に削除するか、.gitignore に追加する（例: `.git_commit_msg.txt`）。
- 自動実行時は `git commit -m "..."` の代わりに上記 `-F` を必ず使うこと。

例:
```
feat(UC-02): コード実行をShift+Enterでトリガー
docs(SC-001): API仕様を01_specsに追加
```

## 99_history
- **場所**: `docs/99_history/`
- **仕様変更**: 仕様書・設計の変更はここに記録。ファイル名は `0001_概要.md`, `0002_API変更.md` のように**連番プレフィックス**（リポジトリ全体で1本の連番）。
- 中身に日付・変更内容・関連ドキュメントIDを記載。後からコンテキストが分かる粒度で書く。
