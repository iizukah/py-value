---
description: ドキュメントにIDを付与し、実装はドキュメントIDと対応させる。TDDを原則とし、やむを得ない場合は後追いテストを必須とする。
alwaysApply: true
---

# トレーサビリティとTDD

## ドキュメントID
- 仕様書・設計書・画面・APIなど、すべてのドキュメントに一意の**ID**を付与する（例: UC-01, SC-001, API-001）。
- **要件定義書では、機能要件ごとに FR-xxx（枠: FR-F001…、プラグイン: FR-P001…）、非機能要件ごとに NFR-xxx（枠: NFR-F001…、プラグイン: NFR-P001…）を必ず付与する。** 修正時は ID の不整合・欠番に注意し、適宜修正する（確定前は本文内で、確定後は差分として別途管理）。
- 実装（機能・ファイル・テスト）は、対応する**ドキュメントIDを必ず参照**する（コメント・コミットメッセージ等で明示）。

## TDD（テスト駆動開発）
- **原則**: テスト先行。Red → Green → Refactor。新規・変更時はテストを書き、実装はそのテストを満たすように行う。
- **例外**: レガシー追加・緊急修正など、テスト先行が難しい場合は**後追いテストを必須**とする。テストなしのまま本番投入しない。

## 例
- 実装コメント: `// UC-02: コード実行 Shift+Enter`
- コミット: `feat(UC-02): コード実行トリガーを追加`
