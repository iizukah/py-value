# 0006 実装と mock 差分（WCAG・仕様正本）

## 日付

2025-02-07

## 目的

- **正本**: 実装は **WCAG 2.1** および **docs/01_specs**（UX-01, UX-02, UX-04, REQ-01, TEST-01）を正とする。矛盾時は WCAG 優先（UX-02 §4）。
- **reference/mock.html** との差分を一覧化し、後からデザインを mock に寄せて変更可能な状態にする。

## 記載方針

- 画面 ID（SC-000～SC-011）および主要コンポーネント（CP）単位で、「現状実装の根拠（仕様条項・WCAG）」と「reference/mock.html の記載（該当する場合）」を対比する。
- 差分がある項目は「後で mock に寄せる場合の変更ポイント」を簡潔に記載する。
- 本 diff は「実装 vs mock」に特化する。ワイヤーフレーム変更は [0001_wireframe_ui_changes.md](0001_wireframe_ui_changes.md) を参照。

---

## 1. 画面・コンポーネント別 実装根拠と mock 差分

| 画面 ID / CP | 実装の根拠（仕様・WCAG） | reference/mock.html の記載 | 差分時の変更ポイント |
|--------------|--------------------------|----------------------------|------------------------|
| **SC-000** | UX-01, UX-02 CP-000, CP-015。FR-F023（画像なし・CSS/JS のみ）。 | ホーム／ファーストビューを正とする（UX-01）。 | 訴求表現・レイアウトを mock に合わせる場合は、WCAG コントラストを維持したうえで CSS を調整。 |
| **SC-001** | UX-01, CP-003, CP-004, CP-016, CP-017。FR-F025, F026, F027, F028, F009。 | 問題一覧（タイルグリッド・ソート・タグ）を正とする。 | **Phase 1 実装済み**: タグ表示（FR-F025）、タグフィルターリンク（FR-F026）、お気に入り ON/OFF ボタン（FR-F027）、合格/不合格/未挑戦バッジ（FR-F009）を実装。タイル幅（UX-04 --tile-min-width）、バッジ位置（mock がタイル中央の場合は CSS で調整）、問題文抜粋の有無。見た目のみ mock に寄せ可。 |
| **SC-002** | UX-01, UX-03（3 ペイン）。CP-007, CP-008。 | ワイヤーフレーム参照。 | 3 ペイン比率（UX-04: 25% 1fr 30%）。モックと異なる場合はトークン値を変更。 |
| **SC-003** | UX-01, UX-02 CP-009。UX-04 バッジ・中央ブロック。0002 は MVP 許容。 | 採点結果ブロックを正とする。 | **Phase 2 実装済み**: 全問正解時に「完了画面へ」リンク（FR-F010）を表示。タイル幅 50%（0002 未対応）、Retry 右下配置（0002 未対応）。mock に同様の導線・配置があれば対比して記録。 |
| **SC-004** | UX-01, UX-02 CP-010。UX-04 中央ブロック。 | ワイヤーフレーム参照。 | 中央配置・max-width は UX-04 に従う。文言・レイアウトを mock に寄せ可。 |
| **SC-005, SC-006** | UX-01, CP-005, CP-006。表記は「合格」「不合格」（0001）。 | 履歴一覧・詳細パネル構成を正とする。 | パネル構成・余白を mock に合わせる場合の CSS 変更ポイントを記載。 |
| **SC-007～SC-010** | UX-01, UX-02 CP-011～CP-014。ワイヤーフレーム参照。 | 管理系はワイヤーフレームが主。mock に該当する場合は追記。 | **Phase 4 実装済み**: 管理ダッシュボード（SC-007）に「履歴の最大件数」入力・保存（FR-F008）を追加。mock に同様の記載があれば対比。 |
| **SC-011** | UX-01, CP-017, CP-018。FR-F027。 | お気に入り一覧パネル構成を正とする。 | リストの見た目・ボタン配置を mock に寄せ可。 |
| **共通 CP-001** | ヘッダ・パンくず・フッター。NFR-F004 フォーカス順・ラベル。 | ヘッダ（ロゴ・ナビ）を参照。 | ナビ項目順・ロゴ SVG を mock に合わせる場合。 |

---

## 2. アクセシビリティ（NFR-F004）との整合

- 実装では **WCAG 2.1 レベル AA**（コントラスト、キーボード操作、ラベル）を満たすことを優先する。
- mock の色・フォーカス表示が WCAG を満たさない場合は、実装で仕様・WCAG を採用し、本表の「変更ポイント」で「コントラスト確保のため色を調整済み」等を記録する。

---

## 3. 更新履歴・今後の更新

- Phase 1～4 で SC-001, SC-003, SC-007 の行を更新済み。
- **Phase 6 完了**: 実装完了した画面・コンポーネントと mock の差分が本表に一覧化されている。今後の見た目変更時は「差分時の変更ポイント」を参照する。

---

## 関連ドキュメント

- UX-01, UX-02, UX-04
- REQ-01（FR-F009, F010, F025, F026, F027, F008）
- 99_diff 0001（ワイヤーフレーム変更）、0002（採点結果 MVP 許容）
