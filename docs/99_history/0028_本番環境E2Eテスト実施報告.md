# 0028 本番環境 E2E テスト実施報告

## 日付

2026-02-08

## 実施内容

- **対象**: 本番環境 https://exir-27624.web.app/ に対する Playwright E2E テスト（TEST-02 に基づく）。
- **実行コマンド**: `npm run test:e2e:prod`（内部で `cross-env BASE_URL=https://exir-27624.web.app playwright test`）。
- **実施種別**: ローカルマシンからの実行。webServer は起動せず、本番 URL に直接アクセス。

## 結果要約

| 結果 | 件数 |
|------|------|
| **成功** | 14 |
| **失敗** | 3 |

- **成功**: TC-E2E-03, 04, 05, 07, 08（履歴一覧・詳細）, 09, 10（お気に入り）, 11, 12（管理導線）, 13（キーボード）、および TC-E2E-06 の「完了画面に遷移すると…」の 1 件、他。
- **失敗**:
  1. **TC-E2E-01**（ルートでホーム表示）  
     期待: `getByRole('link', { name: /Pythonデータ分析.*問題一覧へ/ })` が表示される。  
     実際: 本番のホームは「GET STARTED」リンクのみで、文言「Pythonデータ分析」「問題一覧へ」を含むリンクがない（実装が TEST-01 想定のワークブックカード構成と異なる）。
  2. **TC-E2E-02**（問題集選択で一覧へ遷移）  
     上記と同じリンクをクリック対象にしているため、要素が見つからずタイムアウト。
  3. **TC-E2E-06**（全問正解時は採点結果から完了画面へ）  
     解答送信後、「Passed」が 60 秒以内に表示されなかった。本番の問題で正解にならなかった、またはモック適用・ネットワーク遅延の影響が考えられる。

## 関連ドキュメント

- TEST-01（テスト計画書）
- TEST-02（本番環境 E2E テスト仕様）

## 所見

- 本番 E2E の実行環境（BASE_URL 切り替え・webServer 無効化）は意図どおり動作した。
- ホーム画面の E2E（TC-E2E-01, 02）を本番で成功させるには、実装のリンク文言に合わせたセレクタへの変更、またはホーム画面の「問題一覧へ」等の表示追加が必要。
- TC-E2E-06 の「全問正解→完了画面へ」は、本番で正解となる解答を入力するか、タイムアウト延長・条件緩和の検討余地あり。
